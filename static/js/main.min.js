$(function(){var s=function(){var s=function(){setTimeout(function(){$("html").addClass("appeared")},100)},e=function(){for(var s,e=document.querySelectorAll(".key"),t=0;s=e[t++];)$(s).removeClass("key-pressed")},t=function(s){var t=".key"+s.which;$(t).addClass("key-pressed"),setTimeout(function(){e()},400)},a=function(s,e,t,a){a=parseFloat(a),t=parseFloat(t);var n=(100*(e/t)).toFixed(0)+"%",i=(60*(t/a)).toFixed(0),r=(parseFloat(i)/7).toFixed(0);$(".l1").addClass("hide-text-item");var o=["<div class='stats'>","<div class='stats-given'>","<div><span>Correct Characters: </span>",e,"</div><div><span>Wrong Characters: </span>",s,"</div><div><span>Total Characters: </span>",t,"</div><div><span>Time Taken: </span>",a,"s</div><div class='stats-calculated'>","</div><div><span>Accuracy: </span>",n,"</div><div><span>Characters Per Minute: </span>",i,"</div><div><span>Words Per Minute: </span>",r,"</div></div></div>"].join("");$(".l1-stats").html(o),$(".text").height("18em")},n=function(){var s=0,e=$(".l1 .js-timer");e.innerHTML="00",e.removeClass("instructions").addClass("timer");for(var t,n=setInterval(function(){s++,e.html(s/100)},10),i=$(".l1 .text-level").html().split(""),r=0;t=i[r++];)i[r]="<span>"+i[r]+"</span>";var o=0,l=0,d=0,c=content.length;$(window).on("keypress",function(s){var t=s.which.toString();return t===i[o].charCodeAt()?(i[o]="<span class='l-text-correct'>"+i[o]+"</span>",$(".text-level").html(i.join("")),l++):(i[o]="<span class='l-text-wrong'>"+i[o]+"</span>",$(".text-level").html(i.join("")),d++),o++,o==content.length?(a(d,l,c,e.html()),clearInterval(n),$(window).off("keypress"),void 0):void 0})},i=function(){$(".body-text").css("margin-top","-13em"),$(".keyboard").addClass("keyboard--show"),$(window).on("keypress",function(s){console.log(s.which),"13"==s.which&&n()})},r=function(){for(var s,e="q w e r t y u i o p /a s d f g h j k l /z x c v b n m .".split(" "),t="",a=0;s=e[a++];)-1!==s.indexOf("/")?(s=s.substr(1),keyClass="key"+s.charCodeAt(),t+="<br><span class='key key-break "+keyClass+"'>"+s+"</span>"):(keyClass="key"+s.charCodeAt(),t+="<span class='key "+keyClass+"'>"+s+"</span>");t+="<span class='key space-key key32'></span>",$(".keyboard").html(t)},o=function(){$(".js-play-one").on("click",function(){i()}),$(window).on("keypress",t)},l=function(){s(),r(),o()};return{init:l}};s().init()});