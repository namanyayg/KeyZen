$(function(){var s=function(){var s=0,e=function(){setTimeout(function(){$("html").addClass("appeared")},100)},a=function(){for(var s,e=document.querySelectorAll(".key"),a=0;s=e[a++];)$(s).removeClass("key-pressed")},t=function(s){var e=".key"+s.which;$(e).addClass("key-pressed"),setTimeout(function(){a()},400)},n=function(s,e,a,t){t=parseFloat(t),a=parseFloat(a);var n=(e/a*100).toFixed(0)+"%",i=(a/t*60).toFixed(0),r=(parseFloat(i)/7).toFixed(0);$(".l1").addClass("hide-text-item");var o=["<div class='stats'>","<div class='stats-given'>","<div><span>Correct Characters: </span>",e,"</div><div><span>Wrong Characters: </span>",s,"</div><div><span>Total Characters: </span>",a,"</div><div><span>Time Taken: </span>",t,"s</div><div class='stats-calculated'>","</div><div><span>Accuracy: </span>",n,"</div><div><span>Characters Per Minute: </span>",i,"</div><div><span>Words Per Minute: </span>",r,"</div></div></div>"].join("");$(".l1-stats").html(o),$(".text").height("18em")},i=function(){var s=0,e=$(".l1 .js-timer");e.innerHTML="00",e.removeClass("instructions").addClass("timer");for(var a=setInterval(function(){s++,e.html(s/100)},10),t=$(".l1 .text-level").html().split(""),i=0;i>=t.length;i++)t[i]="<span>"+t[i]+"</span>";var r=0,o=0,l=0,d=t.length;$(window).on("keypress",function(s){var i=s.which.toString();return i===t[r].charCodeAt().toString()?(t[r]="<span class='l-text-correct'>"+t[r]+"</span>",$(".text-level").html(t.join("")),o++):(t[r]="<span class='l-text-wrong'>"+t[r]+"</span>",$(".text-level").html(t.join("")),l++),r++,"8"==i&&s.preventDefault(),r==t.length?(n(l,o,d,e.html()),clearInterval(a),$(window).off("keypress"),void 0):void 0})},r=function(){$(".body-text").css("margin-top","-13em"),$(".keyboard").addClass("keyboard--show"),$(window).on("keypress",function(e){console.log(e.which),"13"!=e.which||s||(s=1,i())})},o=function(){for(var s,e="q w e r t y u i o p /a s d f g h j k l /z x c v b n m .".split(" "),a="",t=0;s=e[t++];)-1!==s.indexOf("/")?(s=s.substr(1),keyClass="key"+s.charCodeAt(),a+="<br><span class='key key-break "+keyClass+"'>"+s+"</span>"):(keyClass="key"+s.charCodeAt(),a+="<span class='key "+keyClass+"'>"+s+"</span>");a+="<span class='key space-key key32'></span>",$(".keyboard").html(a)},l=function(){$(".js-play-one").on("click",function(){r()}),$(window).on("keypress",t)},d=function(){e(),o(),l()};return{init:d}};s().init()});